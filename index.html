<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BAHAMAS STORE | Official</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;900&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <style>
        :root {
            --primary: #c4ff0e; 
            --bg-dark: #050505;
            --card-glass: rgba(15, 15, 15, 0.7);
            --border-glow: rgba(196, 255, 14, 0.2);
        }

        body {
            background-color: var(--bg-dark);
            color: #fff;
            font-family: 'Poppins', sans-serif;
            background-image: radial-gradient(circle at 50% -20%, #1a1a02, transparent);
        }

        /* Header Estilo Rio RP */
        .hero-header {
            height: 350px;
            background: linear-gradient(rgba(0,0,0,0.6), var(--bg-dark)), url('https://i.imgur.com/vH9ZJ8S.png');
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            border-bottom: 2px solid var(--primary);
            margin-bottom: -50px;
        }

        .hero-header h1 {
            font-family: 'Montserrat', sans-serif;
            font-size: 4rem;
            text-shadow: 0 0 20px var(--primary);
            letter-spacing: 5px;
        }

        /* Sidebar e Navegação */
        .nav-category {
            background: var(--card-glass);
            border: 1px solid var(--border-glow);
            border-radius: 12px;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        .nav-link-custom {
            color: #888;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            text-decoration: none;
            border-bottom: 1px solid rgba(255,255,255,0.05);
            transition: 0.3s;
        }

        .nav-link-custom:hover, .nav-link-custom.active {
            color: var(--primary);
            background: rgba(196, 255, 14, 0.05);
            border-left: 4px solid var(--primary);
        }

        /* Card de Produto Estilo Premium */
        .product-card {
            background: var(--card-glass);
            border: 1px solid var(--border-glow);
            border-radius: 15px;
            transition: 0.4s;
            position: relative;
        }

        .product-card:hover {
            transform: scale(1.03);
            border-color: var(--primary);
            box-shadow: 0 0 25px rgba(196, 255, 14, 0.15);
        }

        .price-tag {
            color: var(--primary);
            font-weight: 900;
            font-size: 1.4rem;
        }

        .btn-buy {
            background: var(--primary);
            color: #000;
            font-weight: 700;
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
            width: 100%;
            text-transform: uppercase;
        }

        /* Área ADM */
        #admin-panel {
            display: none;
            position: fixed;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 90%; max-width: 800px;
            background: #111;
            z-index: 10000;
            border: 2px solid var(--primary);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 0 100px #000;
        }

        .overlay {
            display: none;
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); z-index: 9999;
        }

    </style>
</head>
<body>

<div class="hero-header">
    <img src="https://i.imgur.com/vH9ZJ8S.png" style="width: 100px;" alt="Logo">
    <h1>BAHAMAS</h1>
    <p class="text-white-50">O MELHOR DO ROLEPLAY É AQUI</p>
</div>

<div class="container pb-5">
    <div class="row">
        <div class="col-lg-3">
            <div class="nav-category">
                <div class="p-3 text-center border-bottom border-secondary">
                    <span class="small text-muted">MENU DE NAVEGAÇÃO</span>
                </div>
                <a href="#" class="nav-link-custom active" onclick="loadProducts('vips')"><i class="fas fa-crown me-3"></i> VIPS</a>
                <a href="#" class="nav-link-custom" onclick="loadProducts('carros')"><i class="fas fa-car me-3"></i> VEÍCULOS</a>
                <a href="#" class="nav-link-custom" onclick="loadProducts('outros')"><i class="fas fa-box me-3"></i> OUTROS</a>
            </div>
            
            <div class="nav-category mt-4 p-3">
                <label class="small text-muted mb-2">CUPOM DE DESCONTO</label>
                <div class="input-group">
                    <input type="text" id="coupon" class="form-control bg-dark text-white border-secondary shadow-none" placeholder="CODIGO">
                    <button class="btn btn-primary" style="background: var(--primary); border:none; color:#000" onclick="applyCoupon()"><i class="fas fa-check"></i></button>
                </div>
            </div>
        </div>

        <div class="col-lg-9 mt-5 mt-lg-0">
            <div class="row g-4" id="grid">
                </div>

            <div class="product-card p-4 mt-5">
                <h4 class="mb-4 fw-bold text-uppercase"><i class="fas fa-comment-dots text-primary me-2"></i> Abrir Ticket</h4>
                <form id="sup-form">
                    <div class="row g-3">
                        <div class="col-md-6"><input type="text" id="snick" class="form-control bg-dark text-white border-secondary shadow-none" placeholder="Seu Nick" required></div>
                        <div class="col-md-6"><input type="text" id="ssub" class="form-control bg-dark text-white border-secondary shadow-none" placeholder="Assunto" required></div>
                        <div class="col-12"><textarea id="smsg" class="form-control bg-dark text-white border-secondary shadow-none" rows="3" placeholder="Descreva sua dúvida..."></textarea></div>
                        <div class="col-12 text-end"><button class="btn btn-buy w-auto px-5">Enviar</button></div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<footer class="text-center py-5 border-top border-secondary opacity-50">
    <p class="mb-0 small">BAHAMAS STORE © 2024</p>
    <span style="cursor: pointer; font-size: 10px;" onclick="toggleAdmin()">BY LEAL</span>
</footer>

<div class="overlay" id="overlay" onclick="toggleAdmin()"></div>
<div id="admin-panel">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h3 class="text-primary mb-0">PAINEL ADMINISTRATIVO</h3>
        <button class="btn-close btn-close-white" onclick="toggleAdmin()"></button>
    </div>
    <div class="row">
        <div class="col-md-5">
            <h6 class="text-muted mb-3 text-uppercase">Cadastrar Item</h6>
            <input type="text" id="p-nome" class="form-control bg-dark text-white mb-2" placeholder="Nome do Produto">
            <input type="text" id="p-preco" class="form-control bg-dark text-white mb-2" placeholder="Preço (ex: 45.00)">
            <input type="text" id="p-url" class="form-control bg-dark text-white mb-2" placeholder="Link da Imagem">
            <select id="p-cat" class="form-select bg-dark text-white mb-3">
                <option value="vips">Categoria: VIP</option>
                <option value="carros">Categoria: CARRO</option>
            </select>
            <button class="btn btn-buy" onclick="saveProduct()">CADASTRAR</button>
        </div>
        <div class="col-md-7 border-start border-secondary ps-4">
            <h6 class="text-muted mb-3 text-uppercase">Tickets Ativos</h6>
            <div id="tickets-area" style="max-height: 300px; overflow-y: auto;"></div>
        </div>
    </div>
</div>

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<script>
    const firebaseConfig = { 
        apiKey: "AIzaSyCYzx7TPmAghFcGuKYzBDIYRW0SjrMJ_r8", 
        databaseURL: "https://quebrei-o-sistema-default-rtdb.firebaseio.com", 
        projectId: "quebrei-o-sistema" 
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // Carregar Produtos Dinamicamente
    function loadProducts(cat) {
        const grid = document.getElementById('grid');
        grid.innerHTML = '<div class="text-center w-100"><div class="spinner-border text-primary"></div></div>';
        
        db.ref('products').orderByChild('categoria').equalTo(cat).on('value', snap => {
            grid.innerHTML = '';
            snap.forEach(item => {
                const p = item.val();
                grid.innerHTML += `
                <div class="col-md-4">
                    <div class="product-card p-3">
                        <img src="${p.img || 'https://via.placeholder.com/300'}" class="img-fluid rounded mb-3">
                        <h6 class="fw-bold mb-1">${p.nome}</h6>
                        <p class="small text-muted mb-3">Entrega imediata via sistema.</p>
                        <div class="d-flex justify-content-between align-items-center">
                            <span class="price-tag">R$ ${p.preco}</span>
                            <button class="btn btn-buy w-auto" onclick="alert('Funcionalidade de Checkout em breve!')">COMPRAR</button>
                        </div>
                    </div>
                </div>`;
            });
        });
    }

    // Gerenciar Admin
    function toggleAdmin() {
        const el = document.getElementById('admin-panel');
        const ov = document.getElementById('overlay');
        if(el.style.display === 'block') {
            el.style.display = 'none';
            ov.style.display = 'none';
        } else {
            const pass = prompt("Senha ADM:");
            if(pass === "123") {
                el.style.display = 'block';
                ov.style.display = 'block';
                loadTickets();
            }
        }
    }

    function saveProduct() {
        db.ref('products').push({
            nome: document.getElementById('p-nome').value,
            preco: document.getElementById('p-preco').value,
            img: document.getElementById('p-url').value,
            categoria: document.getElementById('p-cat').value
        }).then(() => alert("Sucesso!"));
    }

    // Suporte
    document.getElementById('sup-form').onsubmit = (e) => {
        e.preventDefault();
        db.ref('tickets').push({
            nick: document.getElementById('snick').value,
            msg: document.getElementById('smsg').value,
            status: 'Pendente'
        }).then(() => alert("Recebemos seu ticket!"));
    };

    function loadTickets() {
        db.ref('tickets').on('value', snap => {
            const area = document.getElementById('tickets-area');
            area.innerHTML = '';
            snap.forEach(t => {
                area.innerHTML += `<div class="p-2 mb-2 bg-dark rounded small border-start border-primary">
                    <b>${t.val().nick}:</b> ${t.val().msg}
                </div>`;
            });
        });
    }

    // Start
    loadProducts('vips');
</script>
</body>
</html>

